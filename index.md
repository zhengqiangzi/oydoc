# 欧雅APP系统，关键词过滤及产品属性过滤说明文档
> 在排序系统中，一个产品出现的顺序由二个大因素决定其出现顺序。
> >* 搜索的关键词 
> >* 产品所对应的属性(上市时间，产品价格，预览时间，点击数) 
> 
## 搜索关键词算法方案
>*一关键词顺序双权值方案*
>> 在此方案中，搜索的关键词和每个产品所绑定的关键词都有权值，产品所绑定的关键词越多，从侧面证面此产品是商家越希望出现在用户面前，搜索关键词中，越靠前的关键词其权值越高，比如搜索关键词列表 **【主卧，次卧，地中海】**，在这个搜索关键词列表中，主卧，次卧，地中海的权值分别为3,2,1(具体数值可调试后决定)，系统在数据中心取出所有产品含有 **主卧，次卧，地中海**任一一个关键词的产品，然后循环权值相加，算得最后排序权值，再和产品所对应的属性权值相加，得出最后该产品的最终排序权值。在算出所有产品的最终权值后，进行排序，即最后所给用户展示的产品顺序。（具体算法如下图)
>>![](https://github.com/zhengqiangzi/oydoc/blob/master/math.jpg)


## 产品属性排序方案
>* 比重权值算法
>>在此方案中，搜索出所有的产品，算出所有产品同类属性的和，然后循环算当前产品的属性在总和中占有的比例，得出一个百分比，然后乘上一个常数 **此常数后台定义** (具体算法如下图) 
>>![](https://github.com/zhengqiangzi/oydoc/blob/master/math2.jpg)

综合上述方案，三个产品最终的权值
>* 产品一:9+1.06+6.2+7.5 +14.1 = 37.86
>* 产品二:13+2.18+3.7+0+10.8=29.68
>* 产品三:14+6.74+0.03+7.365+4.65= 32.785 

**最终展示给用的产品顺序应为 产品一,产品三,产品二**

### 优缺点 ###
>* 优点:产品的每个属性都能在自定义权值范围内获取权值 
>* 缺点：时间复杂度相对较高

